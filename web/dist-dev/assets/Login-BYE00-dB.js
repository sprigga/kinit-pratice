var E=Object.defineProperty;var C=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var D=(n,a,e)=>a in n?E(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,L=(n,a)=>{for(var e in a||(a={}))M.call(a,e)&&D(n,e,a[e]);if(C)for(var e of C(a))j.call(a,e)&&D(n,e,a[e]);return n};var y=(n,a,e)=>new Promise((c,g)=>{var _=i=>{try{d(e.next(i))}catch(p){g(p)}},f=i=>{try{d(e.throw(i))}catch(p){g(p)}},d=i=>i.done?c(i.value):Promise.resolve(i.value).then(_,f);d((e=e.apply(n,a)).next())});import{r as F,d as J,q as O}from"./index-BsUFl8WW.js";import{u as W,_ as X}from"./Table.vue_vue_type_script_lang-R3v9WsBF.js";import{_ as G}from"./Search.vue_vue_type_script_setup_true_lang-D2iD-Cem.js";import{_ as H}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BH7Lshxr.js";import{_ as K}from"./Detail.vue_vue_type_script_setup_true_lang-BAyURsWB.js";import{_ as Q}from"./Dialog.vue_vue_type_style_index_0_lang-BxUn_kyz.js";import{s as $}from"./dict-DLPs-mJD.js";import{u as Y}from"./dict-ttqq3e93.js";import{A as Z}from"./element-plus-BDQDiIak.js";import{l as ee,a as u,J as z,O as s,P as m,V as A,m as B,p as te,R as w,u as l,B as I,W as le,S as ae,X as oe}from"./vue-chunks-DM5Q6aJS.js";import"./useForm-BPE0GJRY.js";import"./style.css_vue_type_style_index_0_src_true_lang-jwozmq-F.js";import"./wang-editor-CLgHiBvf.js";import"./_Uint8Array-DKqHwQen.js";import"./useIcon-CGEWj5sB.js";import"./Descriptions-D6Zkljoz.js";/* empty css              */import"./dict-Dgnb-fjD.js";const se=n=>F.get({url:"/vadmin/record/logins",params:n}),Re=ee({name:"SystemRecordLogin",__name:"Login",setup(n){const{t:a}=J(),e=u([]),c=u([]);y(this,null,function*(){const t=yield Y().getDictObj(["sys_vadmin_platform","sys_vadmin_login_method"]);e.value=t.sys_vadmin_platform,c.value=t.sys_vadmin_login_method});const{tableRegister:_,tableState:f,tableMethods:d}=W({fetchDataApi:()=>y(this,null,function*(){const{pageSize:o,currentPage:t}=f,r=yield se(L({page:l(t),limit:l(o)},l(S)));return{list:r.data||[],total:r.count||0}})}),{dataList:i,loading:p,total:T,pageSize:v,currentPage:b}=f,{getList:x}=d,q=z([{field:"id",label:"編號",show:!0,disabled:!0,width:"120px"},{field:"telephone",label:"帳號",width:"150px",show:!0,disabled:!0},{field:"status",label:"登錄狀態",show:!0,slots:{default:o=>s(m,null,[s(Z,{modelValue:o.row.status,size:"small",disabled:!0},null)])}},{field:"platform",label:"登錄平台",width:"150px",show:!0,slots:{default:o=>s(m,null,[s("div",null,[$(e.value,o.row.platform)])])}},{field:"login_method",label:"認證方式",width:"150px",show:!0,slots:{default:o=>s(m,null,[s("div",null,[$(c.value,o.row.login_method)])])}},{field:"ip",label:"登錄地址",show:!0,disabled:!0,width:"150px"},{field:"address",label:"登錄地點",show:!0},{field:"postal_code",label:"郵政編碼",show:!1},{field:"area_code",label:"地區區號",show:!1},{field:"browser",label:"瀏覽器",show:!0},{field:"system",label:"操作系统",show:!0},{field:"response",label:"響應信息",show:!1,disabled:!0},{field:"request",label:"請求信息",show:!1,disabled:!0},{field:"create_datetime",label:"創建時間",show:!0,sortable:!0},{field:"action",label:"操作",show:!0,width:100,slots:{default:o=>{const t=o.row;return s(m,null,[s(O,{type:"primary",link:!0,onClick:()=>U(t,"detail")},{default:()=>[A("詳情")]})])}}}]),N=z([{field:"telephone",label:"帳號",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"platform",label:"登錄平台",component:"Select",componentProps:{style:{width:"214px"},options:e.value}},{field:"ip",label:"登錄地址",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"address",label:"登錄地點",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"status",label:"登錄狀態",component:"Select",componentProps:{style:{width:"214px"},options:[{label:"登錄成功",value:!0},{label:"登錄失敗",value:!1}]}}]),S=u({}),P=o=>{b.value=1,S.value=o,x()},h=u(!1),R=u(""),V=u(),k=u(""),U=(o,t)=>{R.value=a("exampleDemo.detail"),k.value=t,V.value=o,h.value=!0};return(o,t)=>(B(),te(m,null,[s(l(H),null,{default:w(()=>[s(l(G),{schema:N,onReset:P,onSearch:P},null,8,["schema"]),s(l(X),{"current-page":l(b),"onUpdate:currentPage":t[0]||(t[0]=r=>I(b)?b.value=r:null),"page-size":l(v),"onUpdate:pageSize":t[1]||(t[1]=r=>I(v)?v.value=r:null),showAction:"",columns:q,"node-key":"id",data:l(i),loading:l(p),pagination:{total:l(T)},onRegister:l(_),onRefresh:l(x)},null,8,["current-page","page-size","columns","data","loading","pagination","onRegister","onRefresh"])]),_:1}),s(l(Q),{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=r=>h.value=r),title:R.value,width:"800px"},{footer:w(()=>[s(l(O),{onClick:t[2]||(t[2]=r=>h.value=!1)},{default:w(()=>[A(le(l(a)("dialogDemo.close")),1)]),_:1})]),default:w(()=>[k.value==="detail"?(B(),ae(K,{key:0,"current-row":V.value},null,8,["current-row"])):oe("",!0)]),_:1},8,["modelValue","title"])],64))}});export{Re as default};
//# sourceMappingURL=Login-BYE00-dB.js.map
