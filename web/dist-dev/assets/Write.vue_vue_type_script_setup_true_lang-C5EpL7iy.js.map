{"version":3,"file":"Write.vue_vue_type_script_setup_true_lang-C5EpL7iy.js","sources":["../../src/views/Bpmin/It/It/components/Write.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { Form, FormSchema } from '@/components/Form'\nimport { useForm } from '@/hooks/web/useForm'\nimport { PropType, reactive, watch } from 'vue'\nimport { useValidator } from '@/hooks/web/useValidator'\n\nconst { required } = useValidator()\n\nconst props = defineProps({\n  currentRow: {\n    type: Object as PropType<any>,\n    default: () => null\n  }\n})\n\nconst formSchema = reactive<FormSchema[]>([\n  {\n    field: 'id',\n    label: '編號',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      disabled: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'serial_number',\n    label: '表單序號',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'it_manager',\n    label: 'IT主管',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'dept',\n    label: '部門',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'apply_date',\n    label: '申請日期',\n    colProps: {\n      span: 12\n    },\n    component: 'DatePicker',\n    componentProps: {\n      readonly: true,\n      type: 'date',\n      placeholder: '请选择日期',\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'extension',\n    label: '分機號碼',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'fillman',\n    label: '填表人',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'main_apply_item',\n    label: '申請項目',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'sub_apply_item',\n    label: '子申請項目',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'request_desc',\n    label: '需求描述',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'it_undertaker',\n    label: 'IT承辦人',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'treatment',\n    label: '處理方式',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'is_delete',\n    label: '狀態',\n    colProps: {\n      span: 12\n    },\n    component: 'Input',\n    componentProps: {\n      readonly: true,\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'create_datetime',\n    label: '創建時間',\n    colProps: {\n      span: 12\n    },\n    component: 'DatePicker',\n    componentProps: {\n      readonly: true,\n      type: 'date',\n      placeholder: '请选择日期',\n      style: {\n        width: '100%'\n      }\n    }\n  },\n  {\n    field: 'update_datetime',\n    label: '更新時間',\n    colProps: {\n      span: 12\n    },\n    component: 'DatePicker',\n    componentProps: {\n      readonly: true,\n      type: 'date',\n      placeholder: '请选择日期',\n      style: {\n        width: '100%'\n      }\n    }\n  }\n])\n\nconst rules = reactive({})\n\nconst { formRegister, formMethods } = useForm()\nconst { setValues, getFormData, getElFormExpose } = formMethods\n\nconst submit = async () => {\n  const elForm = await getElFormExpose()\n  const valid = await elForm?.validate()\n  if (valid) {\n    const formData = await getFormData()\n    return formData\n  }\n}\n\nwatch(\n  () => props.currentRow,\n  (currentRow) => {\n    if (!currentRow) return\n    setValues(currentRow)\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\ndefineExpose({\n  submit\n})\n</script>\n\n<template>\n  <Form :rules=\"rules\" @register=\"formRegister\" :schema=\"formSchema\" />\n</template>\n"],"names":["props","__props","formSchema","reactive","field","label","colProps","span","component","componentProps","disabled","style","width","readonly","type","placeholder","rules","formRegister","formMethods","useForm","setValues","getFormData","getElFormExpose","submit","__async","elForm","validate","watch","currentRow","deep","immediate","__expose"],"mappings":"4cAQA,MAAMA,EAAQC,EAORC,EAAaC,EAAuB,CACxC,CACEC,MAAO,KACPC,MAAO,KACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdC,SAAU,GACVC,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,gBACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,aACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,OACPC,MAAO,KACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,aACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,aACXC,eAAgB,CACdI,SAAU,GACVC,KAAM,OACNC,YAAa,QACbJ,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,YACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,UACPC,MAAO,MACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,kBACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,iBACPC,MAAO,QACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,eACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,gBACPC,MAAO,QACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,YACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,YACPC,MAAO,KACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXC,eAAgB,CACdI,SAAU,GACVF,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,kBACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,aACXC,eAAgB,CACdI,SAAU,GACVC,KAAM,OACNC,YAAa,QACbJ,MAAO,CACLC,MAAO,MACT,CACF,CACF,EACA,CACER,MAAO,kBACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,aACXC,eAAgB,CACdI,SAAU,GACVC,KAAM,OACNC,YAAa,QACbJ,MAAO,CACLC,MAAO,MACT,CACF,CACF,CAAA,CACD,EAEKI,EAAQb,EAAS,CAAA,CAAE,EAEnB,CAAEc,aAAAA,EAAcC,YAAAA,CAAa,EAAGC,EAAO,EACvC,CAAEC,UAAAA,EAAWC,YAAAA,EAAaC,gBAAAA,CAAiB,EAAGJ,EAE9CK,EAAS,IAAYC,EAAA,sBACzB,MAAMC,EAAS,MAAMH,IAErB,GADc,MAAMG,GAAAA,YAAAA,EAAQC,WAG1B,OADiB,MAAML,MAK3BM,OAAAA,EACE,IAAM3B,EAAM4B,WACXA,GAAe,CACTA,GACLR,EAAUQ,CAAU,CACtB,EACA,CACEC,KAAM,GACNC,UAAW,EACb,CACF,EAEAC,EAAa,CACXR,OAAAA,CACF,CAAC"}