var m=(r,i,o)=>new Promise((s,p)=>{var c=t=>{try{l(o.next(t))}catch(n){p(n)}},u=t=>{try{l(o.throw(t))}catch(n){p(n)}},l=t=>t.done?s(t.value):Promise.resolve(t.value).then(c,u);l((o=o.apply(r,i)).next())});import{I as v,u as P,F as _}from"./useForm-BPE0GJRY.js";import{u as I}from"./useValidator-s_gjQ478.js";import{k as x,q as g}from"./index-BsUFl8WW.js";import{b as R}from"./menu-ScLc8rSZ.js";import{l as V,J as f,O as a,V as k,P as F,b as C,m as G,S,u as b}from"./vue-chunks-DM5Q6aJS.js";const j=V({__name:"Write",props:{currentRow:{type:Object,default:()=>null},parentId:x.number.def(void 0)},setup(r,{expose:i}){const{required:o}=I(),s=r,p=()=>{window.open("https://iconify.design/")},c=f([{field:"parent_id",label:"上级選單",colProps:{span:24},component:"TreeSelect",componentProps:{style:{width:"100%"},checkStrictly:!0,placeholder:"請選擇上级選單",nodeKey:"value",defaultExpandAll:!0},optionApi:()=>m(this,null,function*(){return(yield R()).data}),value:s.parentId},{field:"menu_type",label:"選單類型",colProps:{span:24},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"目錄",value:"0"},{label:"選單",value:"1"},{label:"按钮",value:"2"}]},value:"0"},{field:"icon",label:"選單圖標",colProps:{span:24},component:"Input",formItemProps:{slots:{default:e=>a(F,null,[a("div",{style:"display: flex; justify-content: space-between"},[a(v,{style:"width: 435px","input-disabled":!1,modelValue:e.icon,"onUpdate:modelValue":d=>e.icon=d},null),a("div",{style:"margin-left: 10px"},[a(g,{type:"primary",onClick:p},{default:()=>[k("Iconify")]})])])])}},ifshow:e=>e.menu_type!=="2"},{field:"title",label:"選單名稱",component:"Input",colProps:{span:12}},{field:"order",label:"顯示排序",component:"InputNumber",colProps:{span:12},componentProps:{style:{width:"100%"}}},{field:"path",label:"路由地址",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"component",label:"组件路徑",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"redirect",label:"重定向",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"hidden",label:"顯示狀態",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"顯示",value:!1},{label:"隱藏",value:!0}]},value:!1,ifshow:e=>e.menu_type!=="2"},{field:"disabled",label:"選單狀態",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"正常",value:!1},{label:"停用",value:!0}]},value:!1,ifshow:e=>e.menu_type!=="2"},{field:"perms",label:"權限標識",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type==="2"},{field:"noCache",label:"頁面緩存",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"緩存",value:!1},{label:"不緩存",value:!0}]},value:!1,ifshow:e=>e.menu_type==="1",labelMessage:"開啟頁面緩存,需要组件名稱必須與xx.vue頁面的name一致"}]),u=f({title:[o()],menu_type:[o()],disabled:[o()],hidden:[o()],path:[o()],noCache:[o()],order:[o()]}),{formRegister:l,formMethods:t}=P(),{setValues:n,getFormData:y,getElFormExpose:h}=t,w=()=>m(this,null,function*(){const e=yield h();if(yield e==null?void 0:e.validate())return yield y()});return C(()=>s.currentRow,e=>{e&&n(e)},{deep:!0,immediate:!0}),i({submit:w}),(e,d)=>(G(),S(b(_),{rules:u,onRegister:b(l),schema:c,labelWidth:100},null,8,["rules","onRegister","schema"]))}});export{j as _};
//# sourceMappingURL=Write.vue_vue_type_script_setup_true_lang-d-EkjmlR.js.map
