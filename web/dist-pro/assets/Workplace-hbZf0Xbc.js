var v=(e,r,l)=>new Promise((y,x)=>{var $=d=>{try{f(l.next(d))}catch(m){x(m)}},i=d=>{try{f(l.throw(d))}catch(m){x(m)}},f=d=>d.done?y(d.value):Promise.resolve(d.value).then($,i);f((l=l.apply(e,r)).next())});import{a as V}from"./avatar-BnOKPw98.js";import{i as R,j as z,k as P,r as L,u as F,l as H,m as J,n as U,d as K,o as Q}from"./index-C1ugVV0M.js";import{e as W,u as t,l as q,ag as B,a as X,J as S,ah as Y,m as _,p as k,q as s,O as n,R as a,W as o,V as b,P as C,a7 as T,S as N}from"./vue-chunks-DM5Q6aJS.js";/* empty css               *//* empty css                         *//* empty css                *//* empty css                   *//* empty css                */import{p as A,n as D,h,j as w,q as O,r as Z}from"./element-plus-DaxMU9jX.js";const ee={"zh-TW":{justNow:"剛剛",invalid:"無效時間",past:e=>e.match(/\d/)?`${e}前`:e,future:e=>e.match(/\d/)?`${e}後`:e,month:(e,r)=>e===1?r?"上個月":"下個月":`${e} 個月`,year:(e,r)=>e===1?r?"去年":"明年":`${e} 年`,day:(e,r)=>e===1?r?"昨天":"明天":`${e} 天`,week:(e,r)=>e===1?r?"上周":"下周":`${e} 周`,hour:e=>`${e} 小時`,minute:e=>`${e} 分鐘`,second:e=>`${e} 秒`},en:{justNow:"剛剛",invalid:"Invalid Date",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,r)=>e===1?r?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,r)=>e===1?r?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,r)=>e===1?r?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,r)=>e===1?r?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`}},te=e=>{const r=R(),l=W(()=>r.getCurrentLocale);return z(e,{messages:ee[t(l).lang]})},ae=q({name:"Highlight",props:{tag:P.string.def("span"),keys:{type:Array,default:()=>[]},color:P.string.def("var(--el-color-primary)")},emits:["click"],setup(e,{emit:r,slots:l}){const y=W(()=>e.keys.map(i=>B("span",{onClick:()=>{r("click",i)},style:{color:e.color,cursor:"pointer"}},i))),x=i=>(e.keys.forEach((f,d)=>{const m=new RegExp(f,"g");i=i.replace(m,`{{${d}}}`)}),i.split(/{{|}}/)),$=()=>{if(!(l!=null&&l.default))return null;const i=l==null?void 0:l.default()[0].children;if(!i)return l==null?void 0:l.default()[0];const f=x(i),d=/^[0-9]*$/,m=f.map(g=>d.test(g)&&t(y)[g]||g);return B(e.tag,m)};return()=>$()}}),se=()=>L.get({url:"/vadmin/workplace/project"}),ne=()=>L.get({url:"/vadmin/workplace/dynamic"}),re=()=>L.get({url:"/vadmin/workplace/team"}),le=()=>L.get({url:"/vadmin/workplace/shortcuts"}),oe={class:"bg-[var(--app-content-bg-color)] flex-grow"},ce={class:"flex items-center"},ie=["src"],de={class:"text-20px"},ue={class:"mt-10px text-14px text-gray-500"},pe={class:"flex h-70px items-center justify-end <sm:mt-20px"},me={class:"px-8px text-right"},_e=s("div",{class:"text-14px text-gray-400 mb-20px"},"最近登錄時間",-1),xe={class:"text-20px"},fe={class:"mx-20px mt-20px"},ge={class:"flex justify-between"},he=["onClick"],ye={class:"flex items-center"},ve={class:"text-16px"},ke={class:"mt-15px text-14px text-gray-400"},we={class:"mt-20px text-12px text-gray-400 flex justify-between"},$e={class:"flex justify-between"},je={class:"flex items-center"},be=s("img",{src:V,alt:"",class:"w-35px h-35px rounded-[50%] mr-20px"},null,-1),Ae={class:"text-14px"},Ee={class:"mt-15px text-12px text-gray-400"},Se={class:"flex items-center"},qe=q({name:"DashboardWorkplace",__name:"Workplace",setup(e){const r=F(),l=X(!0),y=u=>{window.open(u)};let x=S([]);const $=()=>v(this,null,function*(){const u=yield se().catch(()=>{});u&&(x=Object.assign(x,u.data))});let i=S([]);v(this,null,function*(){const u=yield le().catch(()=>{});u&&(i=Object.assign(i,u.data))});let d=S([]);const m=()=>v(this,null,function*(){const u=yield ne().catch(()=>{});u&&(d=Object.assign(d,u.data))});let g=S([]);const G=()=>v(this,null,function*(){const u=yield re().catch(()=>{});u&&(g=Object.assign(g,u.data))});v(this,null,function*(){yield Promise.all([$(),m(),G()]),l.value=!1});const{t:p}=K(),E=W(()=>r.getUser);return(u,Te)=>{const I=Y("Icon");return _(),k("div",oe,[s("div",null,[n(t(w),{shadow:"never"},{default:a(()=>[n(t(A),{loading:l.value,animated:""},{default:a(()=>[n(t(D),{gutter:20,justify:"space-between"},{default:a(()=>[n(t(h),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>[s("div",ce,[s("img",{src:E.value.avatar?E.value.avatar:t(V),alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"},null,8,ie),s("div",null,[s("div",de,o(t(H)())+"，"+o(E.value.name)+"，"+o(t(p)("workplace.happyDay")),1),s("div",ue,o(t(J)())+"，"+o(t(U)()),1)])])]),_:1}),n(t(h),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>{var c;return[s("div",pe,[s("div",me,[_e,s("span",xe,o((c=E.value.last_login)==null?void 0:c.split(" ")[0]),1)])])]}),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),s("div",fe,[n(t(D),{gutter:20,justify:"space-between"},{default:a(()=>[n(t(h),{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[n(t(w),{shadow:"never"},{header:a(()=>[s("div",ge,[s("span",null,o(t(p)("workplace.project")),1),n(t(O),{type:"primary",underline:!1},{default:a(()=>[b(o(t(p)("workplace.more")),1)]),_:1})])]),default:a(()=>[n(t(A),{loading:l.value,animated:""},{default:a(()=>[n(t(D),null,{default:a(()=>[(_(!0),k(C,null,T(t(x),(c,j)=>(_(),N(t(h),{key:`card-${j}`,xl:8,lg:8,md:12,sm:24,xs:24},{default:a(()=>[n(t(w),{shadow:"hover"},{default:a(()=>[s("div",{class:"cursor-pointer",onClick:M=>y(c.link)},[s("div",ye,[n(I,{icon:c.icon,size:25,class:"mr-10px"},null,8,["icon"]),s("span",ve,o(c.name),1)]),s("div",ke,o(t(p)(c.message)),1),s("div",we,[s("span",null,o(c.personal),1),s("span",null,o(t(Q)(c.time,"yyyy-MM-dd")),1)])],8,he)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1}),n(t(w),{shadow:"never",class:"mt-20px"},{header:a(()=>[s("div",$e,[s("span",null,o(t(p)("workplace.dynamic")),1),n(t(O),{type:"primary",underline:!1},{default:a(()=>[b(o(t(p)("workplace.more")),1)]),_:1})])]),default:a(()=>[n(t(A),{loading:l.value,animated:""},{default:a(()=>[(_(!0),k(C,null,T(t(d),(c,j)=>(_(),k("div",{key:`dynamics-${j}`},[s("div",je,[be,s("div",null,[s("div",Ae,[n(t(ae),{keys:c.keys.map(M=>t(p)(M))},{default:a(()=>[b(o(t(p)("workplace.pushCode")),1)]),_:2},1032,["keys"])]),s("div",Ee,o(t(te)(c.time)),1)])]),n(t(Z))]))),128))]),_:1},8,["loading"])]),_:1})]),_:1}),n(t(h),{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[n(t(w),{shadow:"never"},{header:a(()=>[s("span",null,o(t(p)("workplace.shortcutOperation")),1)]),default:a(()=>[n(t(A),{loading:l.value,animated:""},{default:a(()=>[(_(!0),k(C,null,T(t(i),(c,j)=>(_(),N(t(h),{key:`card-${j}`,xl:12,lg:12,md:12,sm:12,xs:12,class:"mb-10px"},{default:a(()=>[n(t(O),{type:"primary",href:c.link,target:"_blank",underline:!1},{default:a(()=>[b(o(c.name),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["loading"])]),_:1}),n(t(w),{shadow:"never",class:"mt-20px"},{header:a(()=>[s("span",null,o(t(p)("workplace.team")),1)]),default:a(()=>[n(t(A),{loading:l.value,animated:""},{default:a(()=>[n(t(D),null,{default:a(()=>[(_(!0),k(C,null,T(t(g),c=>(_(),N(t(h),{key:`team-${c.name}`,span:12,class:"mb-20px"},{default:a(()=>[s("div",Se,[n(I,{icon:c.icon,class:"mr-10px"},null,8,["icon"]),n(t(O),{type:"default",underline:!1},{default:a(()=>[b(o(c.name),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})])])}}});export{qe as default};
