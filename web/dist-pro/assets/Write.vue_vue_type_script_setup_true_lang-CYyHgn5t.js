var l=(n,i,e)=>new Promise((c,a)=>{var m=t=>{try{s(e.next(t))}catch(r){a(r)}},p=t=>{try{s(e.throw(t))}catch(r){a(r)}},s=t=>t.done?c(t.value):Promise.resolve(t.value).then(m,p);s((e=e.apply(n,i)).next())});import{u as _,F as v}from"./useForm-wf4P-Ogs.js";import{u as b}from"./useValidator-CSahUiaF.js";import{u as h}from"./dict-D9K4TqBi.js";import{l as w,J as P,b as y,m as g,S,u as f}from"./vue-chunks-DM5Q6aJS.js";const j=w({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(n,{expose:i}){const{required:e}=b(),c=n,a=P([{field:"name",label:"類别名稱",component:"Input",colProps:{span:24},componentProps:{style:{width:"100%"}},formItemProps:{rules:[e()]}},{field:"platform",label:"展示平台",colProps:{span:24},component:"Select",componentProps:{style:{width:"100%"}},optionApi:()=>l(this,null,function*(){return(yield h().getDictObj(["sys_vadmin_platform"])).sys_vadmin_platform}),formItemProps:{rules:[e()]}},{field:"is_active",label:"是否可見",colProps:{span:24},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"可見",value:!0},{label:"不可見",value:!1}]},value:!0,formItemProps:{rules:[e()]}}]),{formRegister:m,formMethods:p}=_(),{setValues:s,getFormData:t,getElFormExpose:r}=p,d=()=>l(this,null,function*(){const o=yield r();if(yield o==null?void 0:o.validate())return yield t()});return y(()=>c.currentRow,o=>{o&&s(o)},{deep:!0,immediate:!0}),i({submit:d}),(o,u)=>(g(),S(f(v),{onRegister:f(m),schema:a},null,8,["onRegister","schema"]))}});export{j as _};
